<script>
        const pages = ['home', 'education', 'achievements', 'family', 'batchmates'];
        let currentPageIndex = 0;
        
        // Define constants for the loader functionality (Assumed from previous context)
        const LOADER_DURATION = 300; // Duration for the page transition
        const loader = document.getElementById('pre-load'); 

        function updateNavActive() {
            const pageId = pages[currentPageIndex];
            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('nav-active');
            });
            const activeLink = document.getElementById(`nav-${pageId}`);
            if (activeLink) {
                activeLink.classList.add('nav-active');
            }
        }
        
        /**
         * Core page activation logic, separated from the loader transition.
         */
        function showPage(pageId) {
            // Get elements for the fix
            const footer = document.querySelector('.names-footer');
            const videoBackground = document.querySelector('.video-background');
            
            // 1. Hide all pages and remove animation class
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active', 'animate-in'); // Added 'animate-in' for CSS transition
            });
            
            // 2. Show the target page and apply animation
            const newPage = document.getElementById(pageId);
            if (newPage) {
                // Trigger reflow for CSS animation
                void newPage.offsetWidth; 
                newPage.classList.add('active', 'animate-in');
            }

            // 3. FIX: Control the names footer (Show ONLY on batchmates page)
            if (footer) {
                footer.style.display = pageId === 'batchmates' ? 'block' : 'none';
            }

            // 4. FIX: Control the video background (Hide ONLY on batchmates page)
            if (videoBackground) {
                videoBackground.style.display = pageId === 'batchmates' ? 'none' : 'block';
            }
            
            // 5. Update state and navigation
            currentPageIndex = pages.indexOf(pageId);
            updateNavActive();
        }

        /**
         * Triggers the page switch sequence with a loader transition.
         * This function should be called by navigation links.
         */
        function triggerShowPage(pageId) {
            // Check if the page is valid before starting the transition
            if (pages.indexOf(pageId) === -1) return;
            
            // 1. Force the loader to show
            if (loader) {
                loader.classList.add('show');
                loader.classList.remove('hide');
            }
            
            // 2. Schedule the page switch and loader hide after the transition duration
            setTimeout(() => {
                showPage(pageId);
                // Hide the loader
                if (loader) {
                    loader.classList.remove('show');
                    loader.classList.add('hide');
                }
            }, LOADER_DURATION);
        }

        // Loader logic (Initial load cleanup, removed redundant window.addEventListener('load'))
        document.addEventListener('DOMContentLoaded', () => {
             // Use triggerShowPage's logic to set the initial page
             showPage('home'); 
             
             // Ensure the loader is hidden after a brief period (if it was showing)
             const preLoad = document.getElementById('pre-load');
             if (preLoad) {
                 setTimeout(() => {
                     preLoad.classList.add('hide');
                     preLoad.classList.remove('show');
                 }, 500);
             }
        });
    </script>
